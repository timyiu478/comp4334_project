(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{195:function(e,t,a){e.exports=a.p+"static/media/logo.25bf045c.svg"},211:function(e,t,a){e.exports=a(332)},216:function(e,t,a){},221:function(e,t){},223:function(e,t){},234:function(e,t){},236:function(e,t){},263:function(e,t){},265:function(e,t){},266:function(e,t){},27:function(e,t,a){e.exports={container:"styles_container__10YZe",background:"styles_background__2r9vj",chat_container:"styles_chat_container__2dSxz",contactListClickable:"styles_contactListClickable__2x0YA",chat_header:"styles_chat_header__2lwtE",chat_app_container:"styles_chat_app_container__hpWMz",chat_app_contactList_container:"styles_chat_app_contactList_container__1ZAt-",chat_app_contactList_contact:"styles_chat_app_contactList_contact__1Ek8z",chat_app_body:"styles_chat_app_body__3y5Fr",chat_app_msg_container:"styles_chat_app_msg_container__2XaNU",chat_app_contact:"styles_chat_app_contact__2mJq5",chat_app_msg_inMsg:"styles_chat_app_msg_inMsg__2V7Ef",chat_app_msg_outMsg:"styles_chat_app_msg_outMsg__4vvHT",chat_app_footer:"styles_chat_app_footer__2UMp1",msg_scrollbar:"styles_msg_scrollbar__2ODTw"}},271:function(e,t){},273:function(e,t){},292:function(e,t){},304:function(e,t){},307:function(e,t){},332:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(36),r=a.n(o),s=(a(216),a(90)),l=a(18),i=a(51),m=a(52),u=a(69),p=a(67),_=(c.a.PureComponent,a(14)),g=a(45),d=a.n(g),f=a(395),h=a(393),b=a(392),y=a(391),E=a(398),v=a(402),S=a(400),j=a(401),O=a(389),w=a(124),k=a.n(w);function N(e){return JSON.stringify({coeff:e.coeff.toString(16),d:e.d.toString(16),dmp1:e.dmp1.toString(16),dmq1:e.dmq1.toString(16),e:e.e.toString(16),n:e.n.toString(16),p:e.p.toString(16),q:e.q.toString(16)})}function C(e,t){var a=e+t+"407e0fce8fcb1cee870e19575260b6f2";return k.a.generateRSAKey(a,1024)}var x=a(65),L=a.n(x),T=function(e){var t=e.open,a=e.setOpen,o=Object(n.useState)(""),r=Object(_.a)(o,2),s=r[0],l=r[1],i=Object(n.useState)(""),m=Object(_.a)(i,2),u=m[0],p=m[1],g=function(e){"username"==e.target.id&&l(e.target.value),"password"==e.target.id&&p(e.target.value)},d=function(){a(!1)};return c.a.createElement("div",null,c.a.createElement(E.a,{open:t,onClose:d},c.a.createElement(O.a,null,"Register"),c.a.createElement(S.a,null,c.a.createElement(j.a,null,"To register to this website, please enter your username and also password here."),c.a.createElement(y.a,{autoFocus:!0,margin:"normal",id:"username",label:"Username",type:"text",fullWidth:!0,variant:"standard",value:s,onChange:g}),c.a.createElement(y.a,{autoFocus:!0,margin:"normal",id:"password",label:"Password",type:"password",fullWidth:!0,variant:"standard",value:u,onChange:g})),c.a.createElement(v.a,null,c.a.createElement(b.a,{onClick:d},"Cancel"),c.a.createElement(b.a,{onClick:function(){var e,t=C(s,u),a=(e=t,k.a.publicKeyString(e)),n={username:s,password:u,public_key:a};L.a.ajax({method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(n),url:"/api/signup/",success:function(e,a){console.log(e),localStorage.setItem("SenderRSAkey",N(t)),localStorage.setItem("username",s),alert(e.msg)},error:function(e,t){console.log(e),alert(e.responseJSON.msg)}}),localStorage.setItem("SenderRSAkey",N(t)),localStorage.setItem("username",s)}},"Register"))))},A=function(){var e=Object(n.useState)(!1),t=Object(_.a)(e,2),a=t[0],o=t[1],r=Object(l.g)(),s=Object(n.useState)(""),i=Object(_.a)(s,2),m=i[0],u=i[1],p=Object(n.useState)(""),g=Object(_.a)(p,2),b=g[0],y=g[1],E=function(e){"username"==e.target.id&&u(e.target.value),"password"==e.target.id&&y(e.target.value)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:d.a.container},c.a.createElement(T,{open:a,setOpen:o}),c.a.createElement("div",{className:d.a.background}),c.a.createElement("div",{className:d.a.content},c.a.createElement("div",{className:d.a.register,role:"button",onClick:function(){o(!0)}},"Register"),c.a.createElement(f.a,{className:d.a.form},c.a.createElement("h1",{className:d.a.heading},"Login"),c.a.createElement("div",{className:d.a.input},c.a.createElement("label",{htmlFor:"name"},"Login Name:"),c.a.createElement("input",{type:"text",name:"username",id:"username",autoComplete:"none",value:m,onChange:E})),c.a.createElement("div",{className:d.a.input},c.a.createElement("label",{htmlFor:"password"},"Password:"),c.a.createElement("input",{type:"password",name:"password",id:"password",value:b,onChange:E})),c.a.createElement("div",{className:d.a.submitContainer},c.a.createElement(h.a,{variant:"contained",onClick:function(){r.push("/chatpage");var e=C(m,b),t={username:m,password:b};localStorage.setItem("SenderRSAkey",N(e)),localStorage.setItem("username",m),L.a.ajax({method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(t),url:"/api/login/",success:function(e,t){console.log(e)},error:function(e,t){console.log(e),alert("Invalid Username or Password.")}})}},"Login"))))))},F=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return null}}]),a}(c.a.Component),R=a(128),I=a.n(R),M=a(20),P=a(193),J=a(27),q=a.n(J),H=a(397),K=a(194),U=function(){var e=Object(n.useRef)(null),t=Object(n.useState)([{isFromSelf:!1,msg:"hello",time:"01:00"},{isFromSelf:!0,msg:"hi",time:"01:01"},{isFromSelf:!1,msg:"how are you doing",time:"01:02"},{isFromSelf:!0,msg:"well",time:"01:03"},{isFromSelf:!0,msg:"And you?",time:"01:04"},{isFromSelf:!1,msg:"wonderful!",time:"01:05"}]),a=Object(_.a)(t,2),o=a[0],r=a[1],s=Object(n.useState)([]),l=Object(_.a)(s,2),i=l[0],m=l[1],u=Object(n.useState)(""),p=Object(_.a)(u,2),g=p[0],d=p[1],f=Object(n.useState)(i[0]),h=Object(_.a)(f,2),b=h[0],y=h[1],E=function(){var t=Object(P.a)(I.a.mark((function t(){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==g){t.next=6;break}return a={isFromSelf:!0,msg:g,time:"02:00"},t.next=4,r((function(e){return[].concat(Object(M.a)(e),[a])}));case 4:d(""),e.current.scrollToBottom();case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){L.a.ajax({method:"GET",dataType:"json",contentType:"application/json",url:"/api/usernames/",success:function(e,t){console.log(e.usernames),m(e.usernames)},error:function(e,t){console.log(e)}})}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:q.a.container,onKeyDown:function(e){"Enter"===e.key&&E()}},c.a.createElement("div",{className:q.a.background}),c.a.createElement("div",{className:q.a.chat_container},c.a.createElement("div",{className:q.a.chat_header},c.a.createElement("h1",null,"ChatPage")),c.a.createElement("div",{className:q.a.chat_app_container},c.a.createElement("div",{className:q.a.chat_app_contactList_container},i.map((function(e,t){return c.a.createElement("li",{key:t,className:q.a.chat_app_contactList_contact,onClick:function(){return function(e){y(i[e])}(t)}},e)}))),c.a.createElement("div",{className:q.a.chat_app_body},c.a.createElement("div",{className:q.a.chat_app_contact},c.a.createElement("h2",null,b)),c.a.createElement("div",{className:q.a.chat_app_msg_container},c.a.createElement(K.Scrollbars,{ref:e,className:q.a.msg_scrollbar,universal:!0,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200},o.map((function(e){return c.a.createElement("p",{className:e.isFromSelf?q.a.chat_app_msg_outMsg:q.a.chat_app_msg_inMsg},c.a.createElement("p",null,e.msg),c.a.createElement("span",null,e.time))})))),c.a.createElement("div",{className:q.a.chat_app_footer},c.a.createElement("input",{placeholder:" Enter message...",type:"text",value:g,onChange:function(e){d(e.target.value)}}),c.a.createElement("button",{onClick:E,type:"button"},c.a.createElement(H.a,null))))))))},W=a(195),D=a.n(W),z=a(84),B=a.n(z),Z=(c.a.PureComponent,"/login"),Q="/chatpage",Y=function(){return c.a.createElement(s.a,null,c.a.createElement(F,null),c.a.createElement(l.d,null,c.a.createElement(l.b,{exact:!0,path:"/",component:A}),c.a.createElement(l.b,{exact:!0,path:Z,component:A}),c.a.createElement(l.b,{exact:!0,path:Q,component:U}),c.a.createElement(l.a,{from:"*",to:"/"})))};var G=function(){return c.a.createElement(Y,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},45:function(e,t,a){e.exports={container:"styles_container__24Sv2",background:"styles_background__pxoan",content:"styles_content__2csTg",register:"styles_register__18u2K",form:"styles_form__2sLLb",heading:"styles_heading__2gQat",input:"styles_input__auRix",submitContainer:"styles_submitContainer__3SNv6"}},84:function(e,t,a){e.exports={App:"styles_App__36nvZ",AppLogo:"styles_AppLogo__10428",AppHeader:"styles_AppHeader__2rjvQ",AppLink:"styles_AppLink__2Kcaq"}}},[[211,1,2]]]);